(function(){var q=function(d,a){function f(){a.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function r(a,b,c,d,g,e,k){function h(a,b){var c=" / ";a>b?c=" > ":a==b&&(c=" = ");return c}f("[TextFill] "+a+" { font-size: "+k+",Height: "+b.offsetHeight+"px "+h(b.offsetHeight,c)+c+"px,Width: "+b.offsetWidth+h(b.offsetWidth,d)+d+",minFontPixels: "+g+"px, maxFontPixels: "+e+"px }")}function q(a,b,c,d,f,g,k,h){for(r(a,b,f,g,k,h,"font size not yet calculated");k<
Math.floor(h)-1;){var e=Math.floor((k+h)/2);b.style.fontSize=e+"px";var l=b[c];if(l<=d){if(k=e,l==d)break}else h=e;r(a,b,f,g,k,h,e)}b.style.fontSize=h+"px";b[c]<=d&&(k=h,r(a+"* ",b,f,g,k,h,h));return k}var g={debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1,truncateOnFail:!1,allowOverflow:!1};a=a||{};for(var b in g)g.hasOwnProperty(b)&&!a.hasOwnProperty(b)&&(a[b]=g[b]);f("[TextFill] Start Debug");
var p;"string"===typeof d?p=document.querySelectorAll(d):d instanceof Element||d instanceof HTMLDocument?p=d:d.length&&(p=d);for(g=0;g<p.length;g++){b=p[g];var c=b.querySelector(a.innerTag),e=window.getComputedStyle(c);f("[TextFill] Inner text: "+c.textContent);f("[TextFill] All options: ",a);f("[TextFill] Maximum sizes: { Height: "+l+"px, Width: "+m+"px }");if("none"===e)a.fail&&a.fail(b),f("[TextFill] Failure: Inner element not visible.");else{var l=a.explicitHeight||b.offsetHeight,m=a.explicitWidth||
b.offsetWidth,t=e.getPropertyValue("font-size");e=e.getPropertyValue("line-height");e=parseFloat(e)/parseFloat(t);var n=a.minFontPixels,v=0>=a.maxFontPixels?l:a.maxFontPixels,w=void 0;a.widthOnly||(w=q("Height",c,"offsetHeight",l,l,m,n,v));var u=void 0;a.widthOnly&&(c.style.whiteSpace="nowrap");u=q("Width",c,"offsetWidth",m,l,m,n,v);n=a.widthOnly?u:Math.min(w,u);c.style.fontSize=n+"px";a.changeLineHeight&&(b.style.lineHeight=e*n+"px");c.offsetWidth>m&&!a.allowOverflow||c.offsetHeight>l&&!a.widthOnly&&
!a.allowOverflow?(c.style.fontSize=t,a.fail&&a.fail(b),f("[TextFill] Failure { Reason: Either exceeded original size or attempted to go below minFontPixels... Current Width: "+c.offsetWidth+", Maximum Width: "+m+", Current Height: "+c.offsetHeight+", Maximum Height: "+l+" }")):(a.success&&a.success(b),f("[TextFill] Finished { Old font-size: "+t+", New font-size: "+n+" }"))}}a.complete&&a.complete();f("[TextFill] End Debug")};"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=
q:window.TextFill=q})();
